-- Percsploit Multi Loader (Universal Animated Version)
local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local LocalPlayer = Players.LocalPlayer
local PlayerGui = LocalPlayer:WaitForChild("PlayerGui")

-- Detect if player is on mobile
local isMobile = UserInputService.TouchEnabled and not UserInputService.KeyboardEnabled

-- GUI Setup
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "PercsploitMultiLoader"
ScreenGui.IgnoreGuiInset = true
ScreenGui.ResetOnSpawn = false
ScreenGui.Parent = PlayerGui

-- Main Frame
local MainFrame = Instance.new("Frame")
MainFrame.Size = UDim2.new(0, 320, 0, 420)
MainFrame.Position = UDim2.new(0.5, -160, 0.5, -210)
MainFrame.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
MainFrame.BorderSizePixel = 0
MainFrame.Visible = true
MainFrame.Active = true
MainFrame.Draggable = true
MainFrame.Parent = ScreenGui

local UICorner = Instance.new("UICorner", MainFrame)
UICorner.CornerRadius = UDim.new(0, 12)

-- Glow effect (simulated with gradient loop)
local Glow = Instance.new("UIGradient", MainFrame)
Glow.Color = ColorSequence.new(
    ColorSequenceKeypoint.new(0, Color3.fromRGB(120, 0, 255)),
    ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 0, 150))
)
Glow.Rotation = 45

RunService.RenderStepped:Connect(function()
    Glow.Rotation = Glow.Rotation + 0.5
end)

-- Title
local Title = Instance.new("TextLabel", MainFrame)
Title.Size = UDim2.new(1, 0, 0, 45)
Title.BackgroundTransparency = 1
Title.Text = "Percsploit Multi Loader"
Title.Font = Enum.Font.GothamBold
Title.TextSize = 24
Title.TextColor3 = Color3.fromRGB(190, 0, 255)

-- Key Input
local KeyInput = Instance.new("TextBox", MainFrame)
KeyInput.Size = UDim2.new(0.9, 0, 0, 40)
KeyInput.Position = UDim2.new(0.05, 0, 0, 60)
KeyInput.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
KeyInput.Text = "Enter your key here"
KeyInput.TextColor3 = Color3.fromRGB(220, 220, 220)
KeyInput.Font = Enum.Font.Gotham
KeyInput.TextSize = 16
local KeyCorner = Instance.new("UICorner", KeyInput)
KeyCorner.CornerRadius = UDim.new(0, 6)

-- Script Scroll
local Scroll = Instance.new("ScrollingFrame", MainFrame)
Scroll.Size = UDim2.new(0.9, 0, 0, 300)
Scroll.Position = UDim2.new(0.05, 0, 0, 110)
Scroll.BackgroundTransparency = 1
Scroll.CanvasSize = UDim2.new(0, 0, 0, 0)
Scroll.ScrollBarThickness = 6
Scroll.ScrollBarImageColor3 = Color3.fromRGB(140, 0, 255)
local UIList = Instance.new("UIListLayout", Scroll)
UIList.Padding = UDim.new(0, 10)

-- Script List
local scripts = {
    {name = "Arcade Basketball", url = "https://api.luarmor.net/files/v3/loaders/4b9b7b3daa96e24fb09b4451abe2fd50.lua"},
    {name = "Hoop Heroes", url = "https://api.luarmor.net/files/v3/loaders/12d8d6a43ade4627ec3bdfe242435a82.lua"},
    {name = "Flag Football", url = "https://api.luarmor.net/files/v3/loaders/16e1671cf1b0e5b6df8b20fa921a7294.lua"},
    {name = "Practical Basketball", url = "https://api.luarmor.net/files/v3/loaders/01b608f4b8e66b0be97fe3ff518726fd.lua"},
    {name = "Playground Basketball", url = "https://api.luarmor.net/files/v3/loaders/1f7d065fdc92ad0c0b92994a16c1b97f.lua"}
}

for _, info in ipairs(scripts) do
    local Btn = Instance.new("TextButton")
    Btn.Size = UDim2.new(1, 0, 0, 40)
    Btn.BackgroundColor3 = Color3.fromRGB(40, 0, 70)
    Btn.TextColor3 = Color3.fromRGB(255, 255, 255)
    Btn.Text = info.name
    Btn.Font = Enum.Font.Gotham
    Btn.TextSize = 16
    Btn.Parent = Scroll

    local Corner = Instance.new("UICorner", Btn)
    Corner.CornerRadius = UDim.new(0, 8)

    -- Glow Animation (Pulse)
    task.spawn(function()
        local direction = 1
        while Btn.Parent do
            local r = Btn.BackgroundColor3.R * 255
            local g = Btn.BackgroundColor3.G * 255
            local b = Btn.BackgroundColor3.B * 255
            Btn.BackgroundColor3 = Color3.fromRGB(r + 0.1 * direction, g, b + 0.2 * direction)
            task.wait(0.05)
            if Btn.BackgroundColor3.B > 0.8 or Btn.BackgroundColor3.B < 0.5 then
                direction = -direction
            end
        end
    end)

    Btn.MouseButton1Click:Connect(function()
        local key = KeyInput.Text
        if key == "" or key == "Enter your key here" then
            game:GetService("StarterGui"):SetCore("SendNotification", {
                Title = "Missing Key",
                Text = "Enter a valid key first!",
                Duration = 3
            })
            return
        end
        local ok, err = pcall(function()
            local data = game:HttpGet(info.url)
            loadstring("script_key='" .. key .. "';" .. data)()
        end)
        game:GetService("StarterGui"):SetCore("SendNotification", {
            Title = ok and "Loaded!" or "Error",
            Text = ok and info.name .. " executed!" or tostring(err),
            Duration = 3
        })
    end)
end

-- Adjust scroll height
Scroll.CanvasSize = UDim2.new(0, 0, 0, (#scripts * 50))

-- Draggable Icon Toggle
local ToggleIcon = Instance.new("ImageButton", ScreenGui)
ToggleIcon.Size = UDim2.new(0, 65, 0, 65)
ToggleIcon.Position = UDim2.new(0, 20, 0.8, 0)
ToggleIcon.BackgroundColor3 = Color3.fromRGB(60, 0, 100)
ToggleIcon.Image = "rbxassetid://7051121336"
ToggleIcon.Active = true
ToggleIcon.Draggable = true

local IconCorner = Instance.new("UICorner", ToggleIcon)
IconCorner.CornerRadius = UDim.new(1, 0)

-- Glow rotation
local GlowGradient = Instance.new("UIGradient", ToggleIcon)
GlowGradient.Color = ColorSequence.new(
    ColorSequenceKeypoint.new(0, Color3.fromRGB(160, 0, 255)),
    ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 100, 255))
)
RunService.RenderStepped:Connect(function()
    GlowGradient.Rotation = GlowGradient.Rotation + 1
end)

-- Toggle visibility
local menuVisible = true
ToggleIcon.MouseButton1Click:Connect(function()
    menuVisible = not menuVisible
    MainFrame.Visible = menuVisible
end)

-- Placeholder behavior
KeyInput.Focused:Connect(function()
    if KeyInput.Text == "Enter your key here" then
        KeyInput.Text = ""
    end
end)
KeyInput.FocusLost:Connect(function()
    if KeyInput.Text == "" then
        KeyInput.Text = "Enter your key here"
    end
end)
